# 概念

TCP/IP：定义数据如何传输的通讯协议。

HTTP：定义之间交流语言的协议，超文本传输协议。

HTTPS：

​	服务器：服务器将自己的公钥注册到CA（数字证书认证机构），CA用自己的私钥加密服务器的公钥（数字证书）返回给服务器。

​	客户端：CA的公钥事先置入到浏览器或操作系统中（用于验证是否是CA的签名）。

​	对称加密：使用相同的密钥进行加解密，效率高。

​	非对称加密：存在公钥私钥，都可用于加密解密。公钥任何人都可以有，私钥只有自己专属（1）加解密：不希望别人知道我的消息，所以只有自己才能解密。<span style="color:red">公钥加密，私钥解密。</span>（2）签名：不希望别	人冒充自己签名，只有我才能发布这个签名。<span style="color:red">私钥签名，公钥验签。</span>

长连接： `Connection: keep-alive`，即在一个TCP连接上可以传送多个`HTTP`请求和响应，减少了建立和关闭连接的消耗和延迟。

HTTP1.0：

​	弊端：B-S只持短暂的连接，每次请求都建立一个`TCP`连接，服务器完成请求处理后立即断开。比如：解析一个html文件，内部的存在其它文件资源（css、js、img等）都需要重新建立对应的TCP连接获取。

​	解决：明确指定长连接 `Connection: keep-alive`

HTTP1.1：

​	优势：默认支持长连接（`Connection: keep-alive`）

​	弊端：队头堵塞，即允许客户端不用等待上一次请求结果返回，就可以发出下一次请求，但服务器端必须按照接收到客户端请求的先后顺序依次回送响应结果，以保证客户端能够区分出每次请求的响应内容，这样也显著地减少了整个下载过程所需要的时间。

HTTP2.0：

​	优势：1. 多路复用：在一个TCP连接里，B-S都可以**同时**发送多个请求或回应，而且不用按照顺序一一对应，这样就避免了”队头堵塞”；2. header压缩：通讯双方各自cache一份header fields表，发送请求只需要发送差异数据，减少发送头部冗余数据；3. 二进制格式传输数据，而非HTTP1.x的解析是基于文本，基于文本协议的格式解析存在天然缺陷，文本的表现形式有多样性；4. 服务端推送

# 互联网如何运作

客户端通过浏览器访问www.baidu.com

1.访问DNS域名解析服务器获取ip地址 61.135.169.121

2.发起tcp三次握手建立可靠连接。

3.遵守网络层七层协议发送数据：应用层、表示层、会话层（整个数据）、传输层（分割为带有标号的数据块）、网络层（为每个数据包增加ip及端口）、数据链路层（寻找下一跳Mac地址，添加数据包中）、物理层（光纤：二进制转成光信号传输）。

4.数据包发送完成，四次挥手，浏览器根据序号进行数据包拼接，显示给用户。

# DNS域名解析

DNS（ Domain Name System）域名系统

# CDN加速

CDN（Content Delivery Network）内容分发网络，使用户就近取得所需内容，解决Internet网络拥挤的状况，提高用户访问网站的响应速度。

用户第一步会去进行DNS解析，所以在DNS解析过程中，会新增智能调度DNS去查询该域名距离地区最近的ip地址，以实现用户访问透明。